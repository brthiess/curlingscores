var RankingsArray = [
	{
		category: 'men',
		year: 2018,
		yearName: '2017-2018',
		rankings: [
			{
				name: 'Steffen Walstad',
				location: 'Norway',
				money: '25912',
				totalPoints: 306.449,
				ytdPoints: 122.443,
				teamId: 20
			},
			{
				name: 'Brad Jacobs',
				location: 'Ontario',
				money: '25300',
				totalPoints: 561.939,
				ytdPoints: 112.333,
				teamId: 2
			},
			{
				location: 'Newfoundland',
				name: 'Brad Gushue',
				money: '20200',
				totalPoints: 656.489,
				ytdPoints: 135.957,
				teamId: 4
			},
			{
				location: 'Sweden',
				name: 'Niklas Edin',
				money: '22500',
				totalPoints: 651.625,
				ytdPoints: 112.509,
				teamId: 14
			},
			{
				location: 'Manitoba',
				name: 'Mike Mcewen',
				money: '18000',
				totalPoints: 401.222,
				ytdPoints: 60.571,
				teamId: 1
			},
			{
				location: 'Ontario',
				name: 'John Epping',
				money: '11100',
				totalPoints: 420.077,
				ytdPoints: 69.444,
				teamId: 3
			},
			{
				location: 'Alberta',
				name: 'Kevin Koe',
				money: '10900',
				totalPoints: 386.907,
				ytdPoints: 3.737
			},
			{
				location: 'Switzerland',
				name: 'Peter De Cruz',
				money: '5500',
				totalPoints: 376.692,
				ytdPoints: 112.333,
				teamId: 4
			},
			{
				location: 'Scotland',
				name: 'Kyle Smith',
				money: '6500',
				totalPoints: 374.030,
				ytdPoints: 56.839,
				teamId: 15
			},
			{
				location: 'Norway',
				name: 'Thomas Ulsrud',
				money: '3300',
				totalPoints: 356.660,
				ytdPoints: 82.333,
				teamId: 7
			},
			{
				location: 'Manitoba',
				name: 'Jason Gunnlaugson',
				money: '',
				totalPoints: 314.582,
				ytdPoints: 125.492,
				teamId:17
			},
			{
				location: 'British Columbia',
				name: 'John Morris',
				money: 0,
				totalPoints: 297.393,
				ytdPoints: 77.990,
				teamId: 18
			},
			{
				location: 'Manitoba',
				name: 'Pat Simmons',
				money: '8450',
				totalPoints: 294.888,
				ytdPoints: 84.427,
				teamId: 9
			},
			{
				location: 'United States',
				name: 'John Shuster',
				money: '800',
				totalPoints: 232.153,
				ytdPoints: 77.667,
				teamId: 16
			},
			{
				location: 'Ontario',
				name: 'Glenn Howard',
				money: '1250',
				totalPoints: 232.153,
				ytdPoints: 66.234,
				teamId: 8
			},
			{
				location: 'United States',
				name: 'Heath McCormick',
				money: '500',
				totalPoints: 219.664,
				ytdPoints: 33.513,
				teamId: 19
			},
			{
				location: 'Ontario',
				name: 'Greg Balsdon',
				money: '600',
				totalPoints: 217.431,
				ytdPoints: 12.333,
				teamId: 13
			},
			{
				location: 'Alberta',
				name: 'Brendan Bottcher',
				money: '5500',
				totalPoints: 193.431,
				ytdPoints: 50.33,
				teamId:6
			},
			{
				location: 'Manitoba',
				name: 'William Lyburn',
				money: '8000',
				totalPoints: 122.33,
				ytdPoints: 112.333,
				teamId:  33
			},
			{
				location: 'China',
				name: 'Riu Lui',
				money: '1500',
				totalPoints: 57.887,
				ytdPoints: 11.333,
				teamId: 55
			},
			{
				location: 'Quebec',
				name: 'Jean-Michel Menard',
				money: '600',
				totalPoints: 15.431,
				ytdPoints: 12.333,
				teamId: 22
			},
			{
				location: 'Saskatchewan',
				name: 'Josh Heidt',
				money: '1300',
				totalPoints: 29.667,
				ytdPoints: 18.333,
				teamId: 22
			}
		]
	},
	{
		category: 'women',
		year: 2018,
		yearName: '2017-2018',
		rankings: [
			{
				name: 'Rachel Homan',
				location: 'Ontario',
				money: '25912',
				totalPoints: 556.449,
				ytdPoints: 122.443
			},
			{
				name: 'Jennifer Jones',
				location: 'Manitoba',
				money: '15300',
				totalPoints: 561.939,
				ytdPoints: 112.333
			},
			{
				location: 'Alberta',
				name: 'Shannon Kleibrink',
				money: '20200',
				totalPoints: 126.489,
				ytdPoints: 135.957
			},
			{
				location: 'Sweden',
				name: 'Anna Hasselborg',
				money: '22500',
				totalPoints: 451.625,
				ytdPoints: 112.509
			},
			{
				location: 'Manitoba',
				name: 'Mike Mcewen',
				money: '18000',
				totalPoints: 401.222,
				ytdPoints: 60.571
			},
			{
				location: 'Ontario',
				name: 'John Epping',
				money: '11100',
				totalPoints: 420.077,
				ytdPoints: 69.444
			},
			{
				location: 'Alberta',
				name: 'Kevin Koe',
				money: '10900',
				totalPoints: 386.907,
				ytdPoints: 3.737
			},
			{
				location: 'Switzerland',
				name: 'Peter De Cruz',
				money: '5500',
				totalPoints: 376.692,
				ytdPoints: 112.333
			},
			{
				location: 'Scotland',
				name: 'Kyle Smith',
				money: '6500',
				totalPoints: 374.030,
				ytdPoints: 56.839
			},
			{
				location: 'Norway',
				name: 'Thomas Ulsrud',
				money: '3300',
				totalPoints: 356.660,
				ytdPoints: 82.333
			},
			{
				location: 'Manitoba',
				name: 'Jason Gunnlaugson',
				money: '',
				totalPoints: 314.582,
				ytdPoints: 125.492
			},
			{
				location: 'British Columbia',
				name: 'John Morris',
				money: '',
				totalPoints: 297.393,
				ytdPoints: 77.990
			},
			{
				location: 'Manitoba',
				name: 'Pat Simmons',
				money: '8450',
				totalPoints: 294.888,
				ytdPoints: 84.427
			},
			{
				location: 'United States',
				name: 'John Shuster',
				money: '800',
				totalPoints: 232.153,
				ytdPoints: 77.667
			},
			{
				location: 'Ontario',
				name: 'Glenn Howard',
				money: '1250',
				totalPoints: 232.153,
				ytdPoints: 66.234
			},
			{
				location: 'United States',
				name: 'Heath McCormick',
				money: '500',
				totalPoints: 219.664,
				ytdPoints: 33.513
			},
			{
				location: 'Ontario',
				name: 'Greg Balsdon',
				money: '600',
				totalPoints: 217.431,
				ytdPoints: 12.333
			},
			{
				location: 'Alberta',
				name: 'Brendan Bottcher',
				money: '5500',
				totalPoints: 193.431,
				ytdPoints: 50.33
			},
			{
				location: 'Manitoba',
				name: 'William Lyburn',
				money: '8000',
				totalPoints: 122.33,
				ytdPoints: 112.333
			},
			{
				location: 'China',
				name: 'Riu Lui',
				money: '1500',
				totalPoints: 57.887,
				ytdPoints: 11.333
			},
			{
				location: 'Quebec',
				name: 'Jean-Michel Menard',
				money: '600',
				totalPoints: 15.431,
				ytdPoints: 12.333
			},
			{
				location: 'Saskatchewan',
				name: 'Josh Heidt',
				money: '1300',
				totalPoints: 29.667,
				ytdPoints: 18.333
			}
		]
	},
	{
		category: 'men',
		year: 2017,
		yearName: '2016-2017',
		rankings: [
			{
				name: 'Steffen Walstad',
				location: 'Norway',
				money: '25912',
				totalPoints: 6.449,
				ytdPoints: 2.443
			},
			{
				name: 'Brad Jacobs',
				location: 'Ontario',
				money: '25300',
				totalPoints: 561.939,
				ytdPoints: 112.333
			},
			{
				location: 'Newfoundland',
				name: 'Brad Gushue',
				money: '20200',
				totalPoints: 656.489,
				ytdPoints: 135.957
			},
			{
				location: 'Sweden',
				name: 'Niklas Edin',
				money: '22500',
				totalPoints: 651.625,
				ytdPoints: 112.509
			},
			{
				location: 'Manitoba',
				name: 'Mike Mcewen',
				money: '18000',
				totalPoints: 401.222,
				ytdPoints: 60.571
			},
			{
				location: 'Ontario',
				name: 'John Epping',
				money: '11100',
				totalPoints: 420.077,
				ytdPoints: 69.444
			},
			{
				location: 'Alberta',
				name: 'Kevin Koe',
				money: '10900',
				totalPoints: 386.907,
				ytdPoints: 3.737
			},
			{
				location: 'Switzerland',
				name: 'Peter De Cruz',
				money: '5500',
				totalPoints: 376.692,
				ytdPoints: 112.333
			},
			{
				location: 'Scotland',
				name: 'Kyle Smith',
				money: '6500',
				totalPoints: 374.030,
				ytdPoints: 56.839
			},
			{
				location: 'Norway',
				name: 'Thomas Ulsrud',
				money: '3300',
				totalPoints: 356.660,
				ytdPoints: 82.333
			},
			{
				location: 'Manitoba',
				name: 'Jason Gunnlaugson',
				money: '',
				totalPoints: 314.582,
				ytdPoints: 125.492
			},
			{
				location: 'British Columbia',
				name: 'John Morris',
				money: '',
				totalPoints: 297.393,
				ytdPoints: 77.990
			},
			{
				location: 'Manitoba',
				name: 'Pat Simmons',
				money: '8450',
				totalPoints: 294.888,
				ytdPoints: 84.427
			},
			{
				location: 'United States',
				name: 'John Shuster',
				money: '800',
				totalPoints: 232.153,
				ytdPoints: 77.667
			},
			{
				location: 'Ontario',
				name: 'Glenn Howard',
				money: '1250',
				totalPoints: 232.153,
				ytdPoints: 66.234
			},
			{
				location: 'United States',
				name: 'Heath McCormick',
				money: '500',
				totalPoints: 219.664,
				ytdPoints: 33.513
			},
			{
				location: 'Ontario',
				name: 'Greg Balsdon',
				money: '600',
				totalPoints: 217.431,
				ytdPoints: 12.333
			},
			{
				location: 'Alberta',
				name: 'Brendan Bottcher',
				money: '5500',
				totalPoints: 193.431,
				ytdPoints: 50.33
			},
			{
				location: 'Manitoba',
				name: 'William Lyburn',
				money: '8000',
				totalPoints: 122.33,
				ytdPoints: 112.333
			},
			{
				location: 'China',
				name: 'Riu Lui',
				money: '1500',
				totalPoints: 57.887,
				ytdPoints: 11.333
			},
			{
				location: 'Quebec',
				name: 'Jean-Michel Menard',
				money: '600',
				totalPoints: 15.431,
				ytdPoints: 12.333
			},
			{
				location: 'Saskatchewan',
				name: 'Josh Heidt',
				money: '1300',
				totalPoints: 29.667,
				ytdPoints: 18.333
			}
		]
	},
	{
		category: 'men',
		year: 2016,
		yearName: '2015-2016',
		rankings: [
			{
				name: 'Steffen Walstad',
				location: 'Norway',
				money: '25912',
				totalPoints: 11.449,
				ytdPoints: 22.443
			},
			{
				name: 'Brad Jacobs',
				location: 'Ontario',
				money: '25300',
				totalPoints: 561.939,
				ytdPoints: 112.333
			},
			{
				location: 'Newfoundland',
				name: 'Brad Gushue',
				money: '20200',
				totalPoints: 656.489,
				ytdPoints: 135.957
			},
			{
				location: 'Sweden',
				name: 'Niklas Edin',
				money: '22500',
				totalPoints: 651.625,
				ytdPoints: 112.509
			},
			{
				location: 'Manitoba',
				name: 'Mike Mcewen',
				money: '18000',
				totalPoints: 401.222,
				ytdPoints: 60.571
			},
			{
				location: 'Ontario',
				name: 'John Epping',
				money: '11100',
				totalPoints: 420.077,
				ytdPoints: 69.444
			},
			{
				location: 'Alberta',
				name: 'Kevin Koe',
				money: '10900',
				totalPoints: 386.907,
				ytdPoints: 3.737
			},
			{
				location: 'Switzerland',
				name: 'Peter De Cruz',
				money: '5500',
				totalPoints: 376.692,
				ytdPoints: 112.333
			},
			{
				location: 'Scotland',
				name: 'Kyle Smith',
				money: '6500',
				totalPoints: 374.030,
				ytdPoints: 56.839
			},
			{
				location: 'Norway',
				name: 'Thomas Ulsrud',
				money: '3300',
				totalPoints: 356.660,
				ytdPoints: 82.333
			},
			{
				location: 'Manitoba',
				name: 'Jason Gunnlaugson',
				money: '',
				totalPoints: 314.582,
				ytdPoints: 125.492
			},
			{
				location: 'British Columbia',
				name: 'John Morris',
				money: '',
				totalPoints: 297.393,
				ytdPoints: 77.990
			},
			{
				location: 'Manitoba',
				name: 'Pat Simmons',
				money: '8450',
				totalPoints: 294.888,
				ytdPoints: 84.427
			},
			{
				location: 'United States',
				name: 'John Shuster',
				money: '800',
				totalPoints: 232.153,
				ytdPoints: 77.667
			},
			{
				location: 'Ontario',
				name: 'Glenn Howard',
				money: '1250',
				totalPoints: 232.153,
				ytdPoints: 66.234
			},
			{
				location: 'United States',
				name: 'Heath McCormick',
				money: '500',
				totalPoints: 219.664,
				ytdPoints: 33.513
			},
			{
				location: 'Ontario',
				name: 'Greg Balsdon',
				money: '600',
				totalPoints: 217.431,
				ytdPoints: 12.333
			},
			{
				location: 'Alberta',
				name: 'Brendan Bottcher',
				money: '5500',
				totalPoints: 193.431,
				ytdPoints: 50.33
			},
			{
				location: 'Manitoba',
				name: 'William Lyburn',
				money: '8000',
				totalPoints: 122.33,
				ytdPoints: 112.333
			},
			{
				location: 'China',
				name: 'Riu Lui',
				money: '1500',
				totalPoints: 57.887,
				ytdPoints: 11.333
			},
			{
				location: 'Quebec',
				name: 'Jean-Michel Menard',
				money: '600',
				totalPoints: 15.431,
				ytdPoints: 12.333
			},
			{
				location: 'Saskatchewan',
				name: 'Josh Heidt',
				money: '1300',
				totalPoints: 29.667,
				ytdPoints: 18.333
			}
		]
	},
	{
		category: 'women',
		year: 2017,
		yearName: '2016-2017',
		rankings: [
			{
				name: 'Rachel Homan',
				location: 'Ontario',
				money: '25912',
				totalPoints: 556.449,
				ytdPoints: 122.443
			},
			{
				name: 'Jennifer Jones',
				location: 'Manitoba',
				money: '15300',
				totalPoints: 561.939,
				ytdPoints: 112.333
			},
			{
				location: 'Alberta',
				name: 'Shannon Kleibrink',
				money: '20200',
				totalPoints: 126.489,
				ytdPoints: 135.957
			},
			{
				location: 'Sweden',
				name: 'Anna Hasselborg',
				money: '22500',
				totalPoints: 451.625,
				ytdPoints: 112.509
			},
			{
				location: 'Manitoba',
				name: 'Mike Mcewen',
				money: '18000',
				totalPoints: 401.222,
				ytdPoints: 60.571
			},
			{
				location: 'Ontario',
				name: 'John Epping',
				money: '11100',
				totalPoints: 420.077,
				ytdPoints: 69.444
			},
			{
				location: 'Alberta',
				name: 'Kevin Koe',
				money: '10900',
				totalPoints: 386.907,
				ytdPoints: 3.737
			},
			{
				location: 'Switzerland',
				name: 'Peter De Cruz',
				money: '5500',
				totalPoints: 376.692,
				ytdPoints: 112.333
			},
			{
				location: 'Scotland',
				name: 'Kyle Smith',
				money: '6500',
				totalPoints: 374.030,
				ytdPoints: 56.839
			},
			{
				location: 'Norway',
				name: 'Thomas Ulsrud',
				money: '3300',
				totalPoints: 356.660,
				ytdPoints: 82.333
			},
			{
				location: 'Manitoba',
				name: 'Jason Gunnlaugson',
				money: '',
				totalPoints: 314.582,
				ytdPoints: 125.492
			},
			{
				location: 'British Columbia',
				name: 'John Morris',
				money: '',
				totalPoints: 297.393,
				ytdPoints: 77.990
			},
			{
				location: 'Manitoba',
				name: 'Pat Simmons',
				money: '8450',
				totalPoints: 294.888,
				ytdPoints: 84.427
			},
			{
				location: 'United States',
				name: 'John Shuster',
				money: '800',
				totalPoints: 232.153,
				ytdPoints: 77.667
			},
			{
				location: 'Ontario',
				name: 'Glenn Howard',
				money: '1250',
				totalPoints: 232.153,
				ytdPoints: 66.234
			},
			{
				location: 'United States',
				name: 'Heath McCormick',
				money: '500',
				totalPoints: 219.664,
				ytdPoints: 33.513
			},
			{
				location: 'Ontario',
				name: 'Greg Balsdon',
				money: '600',
				totalPoints: 217.431,
				ytdPoints: 12.333
			},
			{
				location: 'Alberta',
				name: 'Brendan Bottcher',
				money: '5500',
				totalPoints: 193.431,
				ytdPoints: 50.33
			},
			{
				location: 'Manitoba',
				name: 'William Lyburn',
				money: '8000',
				totalPoints: 122.33,
				ytdPoints: 112.333
			},
			{
				location: 'China',
				name: 'Riu Lui',
				money: '1500',
				totalPoints: 57.887,
				ytdPoints: 11.333
			},
			{
				location: 'Quebec',
				name: 'Jean-Michel Menard',
				money: '600',
				totalPoints: 15.431,
				ytdPoints: 12.333
			},
			{
				location: 'Saskatchewan',
				name: 'Josh Heidt',
				money: '1300',
				totalPoints: 29.667,
				ytdPoints: 18.333
			}
		]
	}
];

RankingsCategories = {
	years: [
			{year: 2017, name: '2016-2017'},
			{year: 2018, name: '2017-2018'}
			],
	categories: ['men', 'women']
}

var Rankings = function(){}
Rankings.prototype.data = {};

Rankings.fetchTopRankings = function(number, category, year){
	var cloneRankingsArray = JSON.parse(JSON.stringify(RankingsArray.slice(0)));
	var cloneMoneyArray = JSON.parse(JSON.stringify(RankingsArray.slice(0)));
	
	//TODO: Make sure this is more robust when checking for [0]
	var newRankingsArray = cloneRankingsArray.filter(function(el) {
		return el.category == category && el.year == year;
	})[0];
	var newMoneyArray = cloneMoneyArray.filter(function(el) {
		return el.category == category && el.year == year;
	})[0];

	
	newRankingsArray.rankings.sort(function(a, b){
		return a.totalPoints - b.totalPoints;
	}).reverse();
	newMoneyArray.rankings.sort(function(a,b) {
		return a.money - b.money;
	}).reverse();
	
	
	newRankingsArray.rankings.forEach(function (ranking, i) {
		ranking.rank = i + 1;
	});
	newMoneyArray.rankings.forEach(function (ranking, i) {
		ranking.rank = i + 1;
		if(ranking.money == ''){
			ranking.money = 0;
		}
	});
	
	newRankingsArray.money = newMoneyArray.rankings.slice(0, number);
	newRankingsArray.rankings = newRankingsArray.rankings.slice(0, number);
	return newRankingsArray;
}

Rankings.fetchCategories = function(){
	RankingsCategories.years.sort(function(a,b) {
		return a.year - b.year;
	}).reverse();
	return RankingsCategories;
}

module.exports = Rankings;